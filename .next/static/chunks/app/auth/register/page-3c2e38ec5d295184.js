(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{6594:function(e,s,a){Promise.resolve().then(a.bind(a,1603))},1603:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return w}});var t=a(7437),r=a(2265),n=a(1899),i=a(9978),l=a(7208),o=a(6137),d=a(5002),u=a(2279),c=a(9414),m=a(8811),h=a(3996),x=a(9832),f=a(4013),g=a(5389),p=a(7312),j=a(7769),b=a(2208),Z=a(7648),y=a(9376);function w(){let e=(0,y.useRouter)(),[s,a]=(0,r.useState)({username:"",email:"",password:"",confirmPassword:"",fullName:""}),[w,v]=(0,r.useState)(!1),[P,C]=(0,r.useState)(!1),[N,S]=(0,r.useState)(""),[k,W]=(0,r.useState)(!1),O=e=>{a({...s,[e.target.name]:e.target.value}),S("")},_=async a=>{if(a.preventDefault(),C(!0),S(""),s.password!==s.confirmPassword){S("Passwords do not match"),C(!1);return}if(s.password.length<8){S("Password must be at least 8 characters"),C(!1);return}try{let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s.username,email:s.email,password:s.password,fullName:s.fullName})}),t=await a.json();if(!a.ok){S(t.error||"Registration failed");return}localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),W(!0),setTimeout(()=>{e.push("/dashboard")},2e3)}catch(e){S("Network error. Please try again.")}finally{C(!1)}};return(0,t.jsx)(n.Z,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"background.default",py:4},children:(0,t.jsx)(i.Z,{maxWidth:"sm",children:(0,t.jsx)(l.Z,{children:(0,t.jsxs)(o.Z,{sx:{p:4},children:[(0,t.jsx)(d.Z,{variant:"h4",align:"center",gutterBottom:!0,sx:{fontWeight:600},children:"Create Account"}),(0,t.jsx)(d.Z,{variant:"body2",align:"center",color:"text.secondary",sx:{mb:4},children:"Join AlgoEdge and start automated trading"}),N&&(0,t.jsx)(u.Z,{severity:"error",sx:{mb:3},children:N}),k&&(0,t.jsx)(u.Z,{severity:"success",sx:{mb:3},children:"Registration successful! Check your email to verify your account. Redirecting to dashboard..."}),(0,t.jsxs)(n.Z,{component:"form",onSubmit:_,children:[(0,t.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(c.ZP,{item:!0,xs:12,children:(0,t.jsx)(m.Z,{fullWidth:!0,label:"Username",name:"username",value:s.username,onChange:O,required:!0,disabled:P||k})}),(0,t.jsx)(c.ZP,{item:!0,xs:12,children:(0,t.jsx)(m.Z,{fullWidth:!0,label:"Email",name:"email",type:"email",value:s.email,onChange:O,required:!0,disabled:P||k})}),(0,t.jsx)(c.ZP,{item:!0,xs:12,children:(0,t.jsx)(m.Z,{fullWidth:!0,label:"Full Name (Optional)",name:"fullName",value:s.fullName,onChange:O,disabled:P||k})}),(0,t.jsx)(c.ZP,{item:!0,xs:12,children:(0,t.jsx)(m.Z,{fullWidth:!0,label:"Password",name:"password",type:w?"text":"password",value:s.password,onChange:O,required:!0,disabled:P||k,helperText:"Minimum 8 characters",InputProps:{endAdornment:(0,t.jsx)(h.Z,{position:"end",children:(0,t.jsx)(x.Z,{onClick:()=>v(!w),edge:"end",children:w?(0,t.jsx)(j.Z,{size:20}):(0,t.jsx)(b.Z,{size:20})})})}})}),(0,t.jsx)(c.ZP,{item:!0,xs:12,children:(0,t.jsx)(m.Z,{fullWidth:!0,label:"Confirm Password",name:"confirmPassword",type:w?"text":"password",value:s.confirmPassword,onChange:O,required:!0,disabled:P||k})})]}),(0,t.jsx)(f.Z,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:P||k,sx:{mt:3,mb:2},children:P?(0,t.jsx)(g.Z,{size:24}):"Create Account"}),(0,t.jsxs)(d.Z,{variant:"body2",align:"center",color:"text.secondary",children:["Already have an account?"," ",(0,t.jsx)(p.Z,{component:Z.default,href:"/auth/login",underline:"hover",children:"Sign in"})]})]})]})})})})}}},function(e){e.O(0,[438,839,299,981,414,858,971,117,744],function(){return e(e.s=6594)}),_N_E=e.O()}]);